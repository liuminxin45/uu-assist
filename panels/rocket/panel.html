<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rocket</title>
  <script src="../../shared/theme.js" defer></script>
  <link rel="stylesheet" href="../../shared/styles.css">
  <style>
    /* Rocketé¡µé¢ç‰¹å®šæ ·å¼ */
    .form-group {
      margin-bottom: var(--space-lg);
    }
    
    .form-group:last-child {
      margin-bottom: 0;
    }
    
    textarea#prompt {
      min-height: 120px;
      resize: vertical;
      font-family: inherit;
      line-height: 1.5;
    }
    
    input[type="number"] {
      -moz-appearance: textfield;
      width: 100px;
    }
    
    input[type="number"]::-webkit-outer-spin-button,
    input[type="number"]::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
    
    .status {
      white-space: pre-wrap;
      background: var(--bg-primary);
      border: 1px solid var(--border-light);
      border-radius: var(--radius-md);
      padding: var(--space-md);
      min-height: 120px;
      max-height: 240px;
      overflow-y: auto;
      font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
      font-size: 13px;
      line-height: 1.5;
      color: var(--text-secondary);
      scrollbar-width: thin;
      scrollbar-color: var(--border-dark) transparent;
    }
    
    #aiReply.status {
      min-height: 180px;
      max-height: 300px;
      resize: vertical;
    }
    
    .actions {
      display: flex;
      gap: var(--space-sm);
      flex-wrap: wrap;
      margin-top: var(--space-md);
    }
    
    /* åŠ è½½åŠ¨ç”» */
    @keyframes pulse {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.5;
      }
    }
    
    .pulse {
      animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="content-wrapper">
      <!-- å¤´éƒ¨ -->
      <div class="header">
        <div class="header-top">
          <h2>Rocket</h2>
          <div class="header-controls">
            <!-- ä¸‹æ‹‰èœå•æŒ‰é’® -->
            <div class="dropdown">
              <button id="panelSwitchBtn" class="dropdown-btn">
                ğŸš€
                <span class="dropdown-arrow">â–¼</span>
              </button>
              <div id="panelDropdown" class="dropdown-content">
                <a href="#" data-target="pha-panel" class="dropdown-item">ğŸ‘ï¸ PHA</a>
                <a href="#" data-target="rocket-panel" class="dropdown-item active">ğŸš€ Rocket</a>
                <a href="#" data-target="notes-panel" class="dropdown-item">ğŸ“ ç¬”è®°</a>
                <a href="#" data-target="settings-panel" class="dropdown-item">âš™ï¸ è®¾ç½®</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- ä¸»å†…å®¹ -->
      <div class="inner-pad">
        <!-- é…ç½®å¡ç‰‡ -->
        <div class="row">
          <div class="card">
            <div class="form-group">
              <label for="msgLimit">æ¶ˆæ¯æ•°é‡é™åˆ¶</label>
              <input id="msgLimit" type="number" min="1" max="200" step="1" value="20" />
              <div class="hint">è®¾ç½®è¦å¤„ç†çš„æ¶ˆæ¯æ•°é‡ä¸Šé™</div>
            </div>
            
            <div class="form-group">
              <div class="switch">
                <input id="autoListen" type="checkbox" checked title="è‡ªåŠ¨ç›‘å¬ç”Ÿæˆå¼€å…³" />
                <label for="autoListen">è‡ªåŠ¨ç›‘å¬æ¶ˆæ¯</label>
              </div>
            </div>
            
            <div class="form-group">
              <label for="prompt">è‡ªå®šä¹‰æç¤ºè¯</label>
              <textarea id="prompt" placeholder="ç•™ç©ºåˆ™ä½¿ç”¨é¢„ç½®æç¤ºè¯"></textarea>
            </div>
          </div>
        </div>
        
        <!-- çŠ¶æ€æ—¥å¿—å¡ç‰‡ -->
        <div class="row">
          <div class="card">
            <label for="status">çŠ¶æ€æ—¥å¿—</label>
            <div id="status" class="status"></div>
          </div>
        </div>
        
        <!-- AIå›å¤å¡ç‰‡ -->
        <div class="row">
          <div class="card">
            <label for="aiReply">AI è¾“å‡º</label>
            <textarea id="aiReply" class="status" readonly placeholder="AI è¾“å‡ºç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ"></textarea>
            <div class="actions">
              <button id="btnCopyAIReply" class="btn btn-primary" title="å¤åˆ¶AIå›å¤">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                  <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                </svg>
                å¤åˆ¶
              </button>
              <button id="btnClearAIReply" class="btn" title="æ¸…ç©ºAIå›å¤">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M3 6h18"></path>
                  <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                  <line x1="10" y1="11" x2="10" y2="17"></line>
                  <line x1="14" y1="11" x2="14" y2="17"></line>
                </svg>
                æ¸…ç©º
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- éšè—çš„ä¾§è¾¹æ å¯¼èˆªï¼Œä¿ç•™ä»¥ç¡®ä¿rail.jsçš„åŠŸèƒ½æ­£å¸¸ -->
  <nav class="rail" aria-label="é¢æ¿åˆ‡æ¢" style="display: none;">
    <button class="railbtn" data-target="pha-panel" title="PHA" aria-label="PHA">ğŸ‘ï¸</button>
    <button class="railbtn active" data-target="rocket-panel" title="Rocket" aria-label="Rocket">ğŸš€</button>
    <button class="railbtn" data-target="notes-panel" title="ç¬”è®°" aria-label="ç¬”è®°">ğŸ“</button>
    <button class="railbtn" data-target="settings-panel" title="è®¾ç½®" aria-label="è®¾ç½®">âš™ï¸</button>
  </nav>

  <script type="module" src="./panel.js"></script>
  <script defer src="../../rail.js"></script>
  <script type="module" src="../persist-init.js"></script>
  <script defer src="../../shared/dropdown-menu.js"></script>
</body>
</html>
