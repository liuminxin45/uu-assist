<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>è®¾ç½®</title>
  <script src="../../shared/theme.js" defer></script>
  <link rel="stylesheet" href="../../shared/styles.css">
  <style>
    /* è®¾ç½®é¡µé¢ç‰¹å®šæ ·å¼ */
    .hint {
      font-size: 12px;
      color: var(--text-muted);
      margin-top: var(--space-xs);
    }
    
    /* ç¡®ä¿headeré«˜åº¦ä¸rocketé¡µé¢ä¸€è‡´ */
    .header {
      padding: var(--space-md) var(--space-lg);
    }
    
    .dropdown-btn {
      padding: var(--space-sm) var(--space-md);
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="content-wrapper">
      <!-- å¤´éƒ¨ -->
      <div class="header">
        <div class="header-top">
          <h2 style="visibility: hidden;">è®¾ç½®</h2>
          <div class="header-controls">
            <!-- ä¸‹æ‹‰èœå•æŒ‰é’® -->
            <div class="dropdown">
              <button id="panelSwitchBtn" class="dropdown-btn">
                <span class="panel-name" style="font-weight: bold; font-size: larger;">âš™ï¸ è®¾ç½®</span>
                <span class="dropdown-arrow">â–¼</span>
              </button>
              <div id="panelDropdown" class="dropdown-content">
                <a href="#" data-target="pha-panel" class="dropdown-item">ğŸ‘ï¸ PHA</a>
                <a href="#" data-target="rocket-panel" class="dropdown-item">ğŸš€ Rocket</a>
                <a href="#" data-target="notes-panel" class="dropdown-item">ğŸ“ ç¬”è®°</a>
                <a href="#" data-target="todo-panel" class="dropdown-item">ğŸ“‹ TODO</a>
                <a href="#" data-target="gerrit-panel" class="dropdown-item">ğŸ” Gerrit</a>
                <a href="#" data-target="settings-panel" class="dropdown-item active">âš™ï¸ è®¾ç½®</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- ä¸»å†…å®¹ -->
      <div class="inner-pad">
          <!-- ä¸»é¢˜è®¾ç½® -->
          <div class="card" style="display: none;">
            <div class="row">
              <label>ä¸»é¢˜è®¾ç½®</label>
              <select id="themeSelect">
                <option value="system">è·Ÿéšç³»ç»Ÿ</option>
                <option value="light">æµ…è‰²æ¨¡å¼</option>
                <option value="dark">æ·±è‰²æ¨¡å¼</option>
              </select>
              <div class="hint">é€‰æ‹©æ‰©å±•ç¨‹åºçš„ä¸»é¢˜æ¨¡å¼ï¼Œé»˜è®¤ä¸ºè·Ÿéšç³»ç»Ÿè®¾ç½®</div>
            </div>
          </div>

          <!-- ä¾›åº”å•† -->
          <div class="row">
            <div class="card">
              <label>ä¾›åº”å•†</label>
              <div class="split">
                <select id="vendorSelect"></select>
                <div class="toolbar">
                  <button id="btnAddVendor" class="btn">æ–°å¢</button>
                  <button id="btnRenameVendor" class="btn">æ”¹å</button>
                  <button id="btnDelVendor" class="btn">åˆ </button>
                </div>
              </div>
            </div>
          </div>

          <!-- ä¾›åº”å•†å‚æ•° -->
          <div class="row grid-2">
            <div class="card">
              <label for="aiBase">URL</label>
              <input id="aiBase" type="text" placeholder="https://api.xxx.com/v1"/>
              <label for="aiKey" style="margin-top:10px">Key</label>
              <input id="aiKey" type="text" placeholder="sk-****"/>
            </div>
            <div class="card">
              <label for="aiVendorPrompt">æç¤ºè¯ï¼ˆä¾›åº”å•†ï¼‰</label>
              <textarea id="aiVendorPrompt" rows="6" placeholder="ç•™ç©º=é»˜è®¤"></textarea>
            </div>
          </div>

          <!-- æ¨¡å‹ -->
          <div class="row card">
            <label>æ¨¡å‹</label>
            <div class="split">
              <select id="modelSelect"></select>
              <div class="toolbar">
                <button id="btnAddModel" class="btn">æ–°å¢</button>
                <button id="btnRenameModel" class="btn">æ”¹å</button>
                <button id="btnDelModel" class="btn">åˆ </button>
              </div>
            </div>
          </div>

          <!-- æ¨¡å‹å‚æ•° -->
          <div class="row grid-2">
            <div class="card">
              <label for="aiModel">æ¨¡å‹ID</label>
              <input id="aiModel" type="text" placeholder="deepseek-chat"/>
              <div class="status" style="margin-top:6px">ä»…åç§°ï¼Œä¸å«è·¯å¾„</div>
            </div>
            <div class="card">
              <label for="modelPrompt">æç¤ºè¯ï¼ˆæ¨¡å‹ï¼‰</label>
              <textarea id="modelPrompt" rows="6" placeholder="ç•™ç©º=ç»§æ‰¿ä¾›åº”å•†"></textarea>
            </div>
          </div>

        <!-- å¯¼å…¥å¯¼å‡º / ä¿å­˜ -->
        <div class="row right-actions">
          <div style="display:flex;gap:var(--space-md);align-items:center">
            <button id="btnExport" class="btn" title="å¯¼å‡ºé…ç½®ä¸å†å²Post">å¯¼å‡º</button>
            <input id="importFile" type="file" accept="application/json" style="display:none"/>
            <button id="btnImport" class="btn" title="å¯¼å…¥é…ç½®ä¸å†å²Post">å¯¼å…¥</button>
            <span id="importExportStatus" class="status"></span>
          </div>
          <div style="display:flex;gap:var(--space-md)">
            <button id="btnReset" class="btn">é‡ç½®</button>
            <button id="btnSave" class="btn btn-primary">ä¿å­˜</button>
          </div>
        </div>
        
        <!-- å­˜å‚¨ç©ºé—´ä½¿ç”¨æƒ…å†µ -->
        <div class="row" style="margin-top:16px;">
          <div class="card">
            <label style="margin-bottom:4px;">å­˜å‚¨ç©ºé—´ä½¿ç”¨æƒ…å†µ</label>
            <div id="storageUsage" class="status">åŠ è½½ä¸­...</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- éšè—çš„ä¾§è¾¹æ å¯¼èˆªï¼Œä¿ç•™ä»¥ç¡®ä¿rail.jsçš„åŠŸèƒ½æ­£å¸¸ -->
  <nav class="rail" aria-label="é¢æ¿åˆ‡æ¢" style="display: none;">
    <button class="railbtn" data-target="pha-panel" title="PHA" aria-label="PHA">ğŸ‘ï¸</button>
    <button class="railbtn" data-target="rocket-panel" title="Rocket" aria-label="Rocket">ğŸš€</button>
    <button class="railbtn" data-target="notes-panel" title="ç¬”è®°" aria-label="ç¬”è®°">ğŸ“</button>
    <button class="railbtn active" data-target="settings-panel" title="è®¾ç½®" aria-label="è®¾ç½®">âš™ï¸</button>
  </nav>

  <script type="module" src="../persist-init.js"></script>
  <script defer src="./settings.js"></script>
  <script defer src="../../rail.js"></script>
  <script defer src="../../shared/dropdown-menu.js"></script>
</body>
</html>
