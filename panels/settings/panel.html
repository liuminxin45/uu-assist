<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Settings</title>
  <style>
    :root{
      --primary-color:#4A84FF; --secondary-color:#6B7280;
      --border-color:#E5E7EB; --bg-color:#FFFFFF; --hover-bg:#F9FAFB;
      --error-color:#EF4444; --success-color:#10B981;
      --shadow-sm:0 1px 2px 0 rgba(0,0,0,.05);
      --shadow-md:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -1px rgba(0,0,0,.06);
    }
    *{margin:0;padding:0;box-sizing:border-box}
    html,body{height:100%}
    body{
      font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
      color:#374151;background:#F3F4F6;line-height:1.5;display:flex;flex-direction:column
    }
    .container{display:flex;height:100vh;width:100%}
    .content-wrapper{flex:1;display:flex;flex-direction:column;padding:16px;overflow:hidden}
    .settings-wrapper{display:flex;flex-direction:column;height:100%;min-height:0;background:#fafafa;border-radius:12px;overflow:hidden}
    .header{padding:12px;background:#fafafa;display:flex;flex-direction:column;gap:12px;align-items:stretch;border-bottom:1px solid var(--border-color)}
    .header-top{display:flex;justify-content:space-between;align-items:center}
    .header h2{font-size:18px;font-weight:600;color:#333;margin:0}
    .row{margin-top:10px}
    label{display:block;margin:8px 0 6px;color:var(--secondary-color);font-weight:600}
    .muted{color:var(--secondary-color)}
    .hint{font-size:12px;color:var(--secondary-color);margin-top:6px}
    .input-common, input[type="text"], textarea, select{
      width:100%;background:#ffffff;border:1px solid var(--border-color);border-radius:10px;color:#374151;padding:10px 12px;font-family:inherit
    }
    .input-common:focus, input:focus, textarea:focus, select:focus{
      outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px rgba(74,132,255,.12)
    }
    .split{display:flex;gap:8px;align-items:center}
    .split > :first-child{flex:1;min-width:0}
    .btn-common{
      padding:8px 12px;background:#ffffff;border:1px solid var(--border-color);
      border-radius:6px;cursor:pointer;font-size:14px;transition:all .2s
    }
    .btn-common:hover{background:var(--hover-bg);border-color:var(--primary-color)}
    .btn-primary{background:var(--primary-color);color:#fff;border:none}
    .btn-primary:hover{background:#3772ff}
    .toolbar{display:flex;gap:8px;flex-wrap:wrap}
    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .card{border:1px solid var(--border-color);border-radius:12px;padding:12px;background:#fafafa}
    .kv{display:grid;grid-template-columns:140px 1fr;gap:8px;align-items:center}
    .rail{display:flex;flex-direction:column;gap:4px;padding:8px 4px;background:#fafafa;border-radius:12px;margin:16px 8px 16px 0}
    .railbtn{width:40px;height:40px;border:none;background:transparent;border-radius:8px;font-size:20px;cursor:pointer;transition:background-color .2s;display:flex;align-items:center;justify-content:center}
    .railbtn:hover{background:#f0f0f0}
    .railbtn.active{background:#e3f2fd;color:#1976d2}
    .row .section{margin-bottom:16px}
    .right-actions{display:flex;gap:8px;justify-content:space-between;align-items:center}
    .status{font-size:12px;color:var(--secondary-color)}
  </style>
</head>
<body>
  <div class="container">
    <div class="content-wrapper">
      <div class="settings-wrapper">
        <div class="header">
          <div class="header-top">
            <h2>Settings</h2>
          </div>
        </div>

        <div style="padding:16px;overflow:auto">
          <!-- ä¾›åº”å•†é€‰æ‹©ä¸ç®¡ç† -->
          <div class="row card">
            <label>AI ä¾›åº”å•†</label>
            <div class="split">
              <select id="vendorSelect"></select>
              <div class="toolbar">
                <button id="btnAddVendor" class="btn-common">æ–°å¢</button>
                <button id="btnRenameVendor" class="btn-common">é‡å‘½å</button>
                <button id="btnDelVendor" class="btn-common">åˆ é™¤</button>
              </div>
            </div>
          </div>

          <!-- ä¾›åº”å•†å‚æ•° -->
          <div class="row grid-2">
            <div class="card">
              <label for="aiBase">åŸºç¡€ URLï¼ˆä¾›åº”å•†çº§ï¼‰</label>
              <input id="aiBase" class="input-common" type="text" placeholder="https://api.deepseek.com/v1"/>
              <label for="aiKey" style="margin-top:12px">API å¯†é’¥ï¼ˆä¾›åº”å•†çº§ï¼‰</label>
              <input id="aiKey" class="input-common" type="text" placeholder="sk-xxxxxxxx"/>
            </div>
            <div class="card">
              <label for="aiVendorPrompt">é»˜è®¤æç¤ºè¯ï¼ˆä¾›åº”å•†çº§ï¼‰</label>
              <textarea id="aiVendorPrompt" class="input-common" rows="6"
                placeholder='ä¸ºç©ºåˆ™ä½¿ç”¨å†…ç½®é»˜è®¤æç¤ºè¯'></textarea>
              <div class="hint">æ¨¡å‹æœªè®¾ç½®ä¸“å±æç¤ºè¯æ—¶ï¼Œç»§æ‰¿è¯¥ä¾›åº”å•†æç¤ºè¯ã€‚</div>
            </div>
          </div>

          <!-- æ¨¡å‹é€‰æ‹©ä¸ç®¡ç† -->
          <div class="row card">
            <label>æ¨¡å‹ï¼ˆéš¶å±å½“å‰ä¾›åº”å•†ï¼‰</label>
            <div class="split">
              <select id="modelSelect"></select>
              <div class="toolbar">
                <button id="btnAddModel" class="btn-common">æ–°å¢</button>
                <button id="btnRenameModel" class="btn-common">é‡å‘½å</button>
                <button id="btnDelModel" class="btn-common">åˆ é™¤</button>
              </div>
            </div>
          </div>

          <!-- æ¨¡å‹å‚æ•° -->
          <div class="row grid-2">
            <div class="card">
              <label for="aiModel">æ¨¡å‹ IDï¼ˆå¦‚ deepseek-chatï¼‰</label>
              <input id="aiModel" class="input-common" type="text" placeholder="deepseek-chat"/>
              <div class="hint">ä»…æ¨¡å‹åï¼Œä¸å«è·¯å¾„ã€‚è°ƒç”¨æ—¶ä¼šé…åˆä¸Šæ–¹åŸºç¡€ URLã€‚</div>
            </div>
            <div class="card">
              <label for="modelPrompt">ä¸“å±æç¤ºè¯ï¼ˆæ¨¡å‹çº§ï¼Œå¯é€‰ï¼‰</label>
              <textarea id="modelPrompt" class="input-common" rows="6"
                placeholder="ç•™ç©ºåˆ™ç»§æ‰¿ä¾›åº”å•†æç¤ºè¯"></textarea>
            </div>
          </div>

          <!-- å¯¼å…¥å¯¼å‡º + ä¿å­˜åŒº -->
          <div class="row right-actions">
            <div style="display:flex;gap:8px;align-items:center">
              <button id="btnExport" class="btn-common" title="å¯¼å‡ºé…ç½®ä¸å†å²Post">å¯¼å‡º</button>
              <input id="importFile" type="file" accept="application/json" style="display:none"/>
              <button id="btnImport" class="btn-common" title="å¯¼å…¥é…ç½®ä¸å†å²Post">å¯¼å…¥</button>
              <span id="importExportStatus" class="status"></span>
            </div>
            <div style="display:flex;gap:8px">
              <button id="btnReset" class="btn-common">é‡ç½®</button>
              <button id="btnSave" class="btn-common">ä¿å­˜</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ä¿ç•™ä¾§è¾¹å¯¼èˆªæ  -->
    <nav class="rail" aria-label="é¢æ¿åˆ‡æ¢">
      <button class="railbtn" data-target="pha-panel" title="PHA" aria-label="PHA">ğŸ‘ï¸</button>
      <button class="railbtn" data-target="rocket-panel" title="Rocket" aria-label="Rocket">ğŸš€</button>
      <button class="railbtn" data-target="notes-panel" title="ç¬”è®°" aria-label="ç¬”è®°">ğŸ“</button>
      <button class="railbtn active" data-target="settings-panel" title="è®¾ç½®" aria-label="è®¾ç½®">âš™ï¸</button>
    </nav>
  </div>

  <script defer src="../../rail.js"></script>
  <script defer src="settings.js"></script>
  <script type="module" src="../persist-init.js"></script>
</body>
</html>
