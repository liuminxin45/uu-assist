/* 基础一致性 */
*,*::before,*::after{ box-sizing:border-box; }
html,body{ height:100%; }

/* ===== 全局尺寸变量 ===== */
:root{
  --rail-btn: 38px;          /* 侧栏按钮边长=侧栏列宽 */
}

/* ===== 按钮（与侧栏按钮同尺寸） ===== */
.btn-common{
  width:var(--rail-btn);
  height:var(--rail-btn);
  background:#fff; border:none; cursor:pointer;
  padding:0; border-radius:8px;
  display:inline-flex; align-items:center; justify-content:center;
  transition:transform .2s ease, color .2s ease, box-shadow .2s ease;
  box-shadow:0 1px 2px rgba(0,0,0,.08);  /* 默认淡阴影 */
}
.btn-common:hover{ box-shadow:0 2px 5px rgba(0,0,0,.2); }
.btn-common:active{ transform:translateY(1px); }
.btn-common:focus-visible{ outline:1.5px solid rgba(37,99,235,.45); outline-offset:1px; }

/* ===== 多行文本 ===== */
#txtContent{ font:inherit; line-height:inherit; white-space:pre-wrap; min-height:300px; }

/* ===== 文本输入 ===== */
.input-common{
  background:#fff; border:none; outline:none; width:100%;
  padding:8px 12px; border-radius:8px;
  transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;
  box-shadow:0 1px 2px rgba(0,0,0,.08);  /* 默认淡阴影 */
}
.input-common:focus{ box-shadow:0 2px 6px rgba(0,0,0,.25), 0 0 0 3px rgba(37,99,235,.12); }
.input-common:disabled{ opacity:.6; cursor:not-allowed; }

/* ===== 下拉框 ===== */
.select-common{
  background:#fff; border:none; outline:none; width:100%;
  padding:8px 36px 8px 12px; border-radius:8px;
  appearance:none; -webkit-appearance:none; -moz-appearance:none;
  background-image:
    linear-gradient(transparent,transparent),
    url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5" fill="none" stroke="%236b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>');
  background-repeat:no-repeat; background-position:right 10px center; background-size:14px 14px;
  transition:transform .2s ease, box-shadow .2s ease;
  box-shadow:0 1px 2px rgba(0,0,0,.08);  /* 默认淡阴影 */
}
.select-common:focus{ box-shadow:0 2px 6px rgba(0,0,0,.25), 0 0 0 3px rgba(37,99,235,.12); }
.select-common:disabled{ opacity:.6; cursor:not-allowed; }

/* ===== 复选框 ===== */
.checkbox-common{
  width:16px; height:16px; border-radius:4px; border:none; display:inline-block;
  background:#fff; cursor:pointer; vertical-align:middle; appearance:none; -webkit-appearance:none;
  box-shadow:0 1px 3px rgba(0,0,0,.15) inset;
  transition:box-shadow .2s ease, transform .1s ease, background-color .2s ease;
}
.checkbox-common:hover{ box-shadow:0 2px 6px rgba(0,0,0,.25) inset; }
.checkbox-common:checked{
  background:
    radial-gradient(circle at 50% 50%, #2563eb 50%, #2563eb 50%) no-repeat center/70% 70%, #fff;
  box-shadow:0 2px 6px rgba(0,0,0,.25) inset;
}
.checkbox-common:focus{ outline:none; box-shadow:0 2px 6px rgba(0,0,0,.25) inset, 0 0 0 3px rgba(37,99,235,.12); }
.checkbox-common:disabled{ opacity:.6; cursor:not-allowed; }

/* ===== 侧栏（列宽=按钮宽，按钮绝对居中） ===== */
.layout{
  display:grid;
  grid-template-columns: 1fr var(--rail-btn);  /* 主区 + 固定宽侧栏 */
  gap: 0;
  min-height:100vh;
}
.main{ min-width:0; }

.rail{
  margin:0 !important;
  padding:6px 0;                               /* 无左右内边距 */
  display:grid; grid-auto-rows:min-content;
  justify-items:center; align-content:start;
  overflow:hidden; box-sizing:border-box;
}

.railbtn{
  width:var(--rail-btn); 
  height:var(--rail-btn);
  box-sizing:border-box; 
  margin:0; 
  flex-shrink:0;
  border:none; 
  border-radius:8px;
  background:#f8fafc; /* 默认淡灰背景 */
  cursor:pointer;
  display:flex; 
  align-items:center; 
  justify-content:center;
  transition:
    transform .2s ease,
    box-shadow .2s ease,
    background-color .2s ease,
    border-color .2s ease;
}

.railbtn:hover{ 
  box-shadow:0 2px 5px rgba(0,0,0,.2); 
}

.railbtn:active{ 
  transform:translateY(1px); 
}

.railbtn:focus-visible,
.railbtn.active{
  background:#ffffff;        /* 选中时白色背景 */
  border:1px solid #e5e7eb;  /* 新增：淡灰色边框 */
}


/* ===== 对话框遮罩 ===== */
dialog::backdrop{ background:rgba(0,0,0,.2); }

/* Toggle：稳态版本（不再用 transform） */
.switch{
  /* 可改尺寸 */
  --h:18px;   /* 轨道高 = 圆点直径 + 2*内边距 */
  --p:2px;    /* 内边距 */
  width:34px;
  height:var(--h);
  position:relative; display:inline-block;
}
.switch input{ opacity:0; width:0; height:0; }

.switch .slider{
  position:absolute; inset:0; cursor:pointer;
  background:#e2e8f0; border-radius:999px;
  transition:background-color .2s ease;
  box-shadow:inset 0 2px 4px rgba(0,0,0,.08);
}

/* 圆点初始在左侧 */
.switch .slider:before{
  content:""; position:absolute; border-radius:50%;
  width:calc(var(--h) - 2*var(--p));
  height:calc(var(--h) - 2*var(--p));
  left:var(--p); bottom:var(--p);
  background:#fff;
  box-shadow:0 2px 4px rgba(0,0,0,.15);
}

/* 选中：轨道变蓝，圆点靠右 */
.switch input:checked + .slider{ background:#3b82f6; }
.switch input:checked + .slider:before{
  left:calc(100% - var(--h) + var(--p)); /* = 轨道宽 - 圆点宽 - p */
}

/* 可选脉冲效果 */
.switch .slider:after{
  content:""; position:absolute; top:50%; left:50%;
  width:var(--h); height:var(--h); border-radius:50%;
  transform:translate(-50%,-50%); opacity:0;
  background:rgba(255,255,255,.28); transition:opacity .18s ease;
}
.switch input:checked + .slider:after{ opacity:1; }
